{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _taggedTemplateLiteral from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/src/containers/Feed.js\";\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 1%;\\n  background: lightblue;\\n  color: white;\\n  text-decoration: none;\\n  border-radius: 5%;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  text-decoration: none;\\n  color: inherit;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n  margin: 5%;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport Card from \"../components/Card/Card\";\nvar FeedWrapper = styled.div(_templateObject());\n_c = FeedWrapper;\nvar Alert = styled.div(_templateObject2());\n_c2 = Alert;\nvar CardLink = styled(Link)(_templateObject3());\n_c3 = CardLink;\nvar PaginationBar = styled.div(_templateObject4());\n_c4 = PaginationBar;\nvar PaginationLink = styled(Link)(_templateObject5());\n_c5 = PaginationLink;\nvar ROOT_API = \"https://api.stackexchange.com/2.2/\";\n\nvar Feed = /*#__PURE__*/function (_Component) {\n  _inherits(Feed, _Component);\n\n  var _super = _createSuper(Feed);\n\n  function Feed(props) {\n    var _this;\n\n    _classCallCheck(this, Feed);\n\n    _this = _super.call(this, props);\n    var query = queryString.parse(props.location.search);\n    _this.state = {\n      data: [],\n      page: query.page ? parseInt(query.page) : 1,\n      loading: true,\n      error: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Feed, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var page, data, dataJSON;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                page = this.state.page;\n                _context.prev = 1;\n                _context.next = 4;\n                return fetch(\"\".concat(ROOT_API, \"questions?order=desc&sort=activity&tagged=reactjs&site=stackoverflow\").concat(page ? \"&page=\".concat(page) : \"\"));\n\n              case 4:\n                data = _context.sent;\n                _context.next = 7;\n                return data.json();\n\n              case 7:\n                dataJSON = _context.sent;\n\n                if (dataJSON) {\n                  this.setState({\n                    data: dataJSON,\n                    loading: false\n                  });\n                }\n\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](1);\n                this.setState({\n                  loading: false,\n                  error: _context.t0.message\n                });\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 11]]);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          data = _this$state.data,\n          loading = _this$state.loading,\n          error = _this$state.error,\n          page = _this$state.page;\n      var match = this.props.match;\n\n      if (loading || error) {\n        return /*#__PURE__*/_jsxDEV(Alert, {\n          children: loading ? \"Loading...\" : error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 14\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(FeedWrapper, {\n        children: [data.items.map(function (item) {\n          return /*#__PURE__*/_jsxDEV(CardLink, {\n            to: \"/questions/\".concat(item.question_id),\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              data: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 13\n            }, _this2)\n          }, item.question_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 11\n          }, _this2);\n        }), /*#__PURE__*/_jsxDEV(PaginationBar, {\n          children: [/*#__PURE__*/_jsxDEV(PaginationLink, {\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(PaginationLink, {\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Feed;\n}(Component);\n\nexport default Feed;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"FeedWrapper\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"CardLink\");\n$RefreshReg$(_c4, \"PaginationBar\");\n$RefreshReg$(_c5, \"PaginationLink\");","map":{"version":3,"sources":["/Users/paulcroitoriu/Desktop/React-projects/community-feed/src/containers/Feed.js"],"names":["React","Component","styled","Link","queryString","Card","FeedWrapper","div","Alert","CardLink","PaginationBar","PaginationLink","ROOT_API","Feed","props","query","parse","location","search","state","data","page","parseInt","loading","error","fetch","json","dataJSON","setState","message","match","items","map","item","question_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport Card from \"../components/Card/Card\";\n\nconst FeedWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  margin: 5%;\n`;\n\nconst Alert = styled.div`\n  text-align: center;\n`;\n\nconst CardLink = styled(Link)`\n  text-decoration: none;\n  color: inherit;\n`;\n\nconst PaginationBar = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst PaginationLink = styled(Link)`\n  padding: 1%;\n  background: lightblue;\n  color: white;\n  text-decoration: none;\n  border-radius: 5%;\n`;\n\nconst ROOT_API = \"https://api.stackexchange.com/2.2/\";\n\nclass Feed extends Component {\n  constructor(props) {\n    super(props);\n    const query = queryString.parse(props.location.search);\n    this.state = {\n      data: [],\n      page: query.page ? parseInt(query.page) : 1,\n      loading: true,\n      error: \"\",\n    };\n  }\n\n  async componentDidMount() {\n    const { page } = this.state;\n\n    try {\n      const data = await fetch(\n        `${ROOT_API}questions?order=desc&sort=activity&tagged=reactjs&site=stackoverflow${\n          page ? `&page=${page}` : \"\"\n        }`\n      );\n      const dataJSON = await data.json();\n\n      if (dataJSON) {\n        this.setState({\n          data: dataJSON,\n          loading: false,\n        });\n      }\n    } catch (error) {\n      this.setState({\n        loading: false,\n        error: error.message,\n      });\n    }\n  }\n\n  render() {\n    const { data, loading, error, page } = this.state;\n    const { match } = this.props;\n\n    if (loading || error) {\n      return <Alert>{loading ? \"Loading...\" : error}</Alert>;\n    }\n\n    return (\n      <FeedWrapper>\n        {data.items.map(item => (\n          <CardLink\n            key={item.question_id}\n            to={`/questions/${item.question_id}`}\n          >\n            <Card data={item} />\n          </CardLink>\n        ))}\n\n        <PaginationBar>\n          <PaginationLink>Previous</PaginationLink>\n          <PaginationLink>Next</PaginationLink>\n        </PaginationBar>\n      </FeedWrapper>\n    );\n  }\n}\n\nexport default Feed;\n"]},"metadata":{},"sourceType":"module"}