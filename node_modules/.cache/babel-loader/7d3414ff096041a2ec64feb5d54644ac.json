{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _taggedTemplateLiteral from \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/paulcroitoriu/Desktop/React-projects/community-feed/src/containers/Feed.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  text-decoration: none;\\n  color: inherit;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n  margin: 5%;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport Card from \"../components/Card/Card\";\nvar FeedWrapper = styled.div(_templateObject());\n_c = FeedWrapper;\nvar Alert = styled.div(_templateObject2());\n_c2 = Alert;\nvar CardLink = styled(Link)(_templateObject3());\n_c3 = CardLink;\nvar ROOT_API = \"https://api.stackexchange.com/2.2/\";\n\nvar Feed = /*#__PURE__*/function (_Component) {\n  _inherits(Feed, _Component);\n\n  var _super = _createSuper(Feed);\n\n  function Feed() {\n    var _this;\n\n    _classCallCheck(this, Feed);\n\n    _this = _super.call(this);\n    _this.state = {\n      data: [],\n      loading: true,\n      error: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Feed, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var data, dataJSON;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetch(\"\".concat(ROOT_API, \"questions?order=desc&sort=activity&tagged=reactjs&site=stackoverflow\"));\n\n              case 3:\n                data = _context.sent;\n                _context.next = 6;\n                return data.json();\n\n              case 6:\n                dataJSON = _context.sent;\n\n                if (dataJSON) {\n                  this.setState({\n                    data: dataJSON,\n                    loading: false\n                  });\n                }\n\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](0);\n                this.setState({\n                  loading: false,\n                  error: _context.t0.message\n                });\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          data = _this$state.data,\n          loading = _this$state.loading,\n          error = _this$state.error;\n\n      if (loading || error) {\n        return /*#__PURE__*/_jsxDEV(Alert, {\n          children: loading ? \"Loading...\" : error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 14\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(FeedWrapper, {\n        children: data.items.map(function (item) {\n          return /*#__PURE__*/_jsxDEV(CardLink, {\n            to: \"/questions/\".concat(item.question_id),\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              data: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 13\n            }, _this2)\n          }, item.question_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 11\n          }, _this2);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Feed;\n}(Component);\n\nexport default Feed;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"FeedWrapper\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"CardLink\");","map":{"version":3,"sources":["/Users/paulcroitoriu/Desktop/React-projects/community-feed/src/containers/Feed.js"],"names":["React","Component","styled","Link","Card","FeedWrapper","div","Alert","CardLink","ROOT_API","Feed","state","data","loading","error","fetch","json","dataJSON","setState","message","items","map","item","question_id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AAEA,IAAMC,WAAW,GAAGH,MAAM,CAACI,GAAV,mBAAjB;KAAMD,W;AAON,IAAME,KAAK,GAAGL,MAAM,CAACI,GAAV,oBAAX;MAAMC,K;AAIN,IAAMC,QAAQ,GAAGN,MAAM,CAACC,IAAD,CAAT,oBAAd;MAAMK,Q;AAKN,IAAMC,QAAQ,GAAG,oCAAjB;;IAEMC,I;;;;;AACJ,kBAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,OAAO,EAAE,IAFE;AAGXC,MAAAA,KAAK,EAAE;AAHI,KAAb;AAFY;AAOb;;;;;;;;;;;;;uBAIsBC,KAAK,WACnBN,QADmB,0E;;;AAAlBG,gBAAAA,I;;uBAGiBA,IAAI,CAACI,IAAL,E;;;AAAjBC,gBAAAA,Q;;AAEN,oBAAIA,QAAJ,EAAc;AACZ,uBAAKC,QAAL,CAAc;AACZN,oBAAAA,IAAI,EAAEK,QADM;AAEZJ,oBAAAA,OAAO,EAAE;AAFG,mBAAd;AAID;;;;;;;;AAED,qBAAKK,QAAL,CAAc;AACZL,kBAAAA,OAAO,EAAE,KADG;AAEZC,kBAAAA,KAAK,EAAE,YAAMK;AAFD,iBAAd;;;;;;;;;;;;;;;;;;6BAOK;AAAA;;AAAA,wBAC0B,KAAKR,KAD/B;AAAA,UACCC,IADD,eACCA,IADD;AAAA,UACOC,OADP,eACOA,OADP;AAAA,UACgBC,KADhB,eACgBA,KADhB;;AAGP,UAAID,OAAO,IAAIC,KAAf,EAAsB;AACpB,4BAAO,QAAC,KAAD;AAAA,oBAAQD,OAAO,GAAG,YAAH,GAAkBC;AAAjC;AAAA;AAAA;AAAA;AAAA,gBAAP;AACD;;AAED,0BACE,QAAC,WAAD;AAAA,kBACGF,IAAI,CAACQ,KAAL,CAAWC,GAAX,CAAe,UAAAC,IAAI;AAAA,8BAClB,QAAC,QAAD;AAEE,YAAA,EAAE,uBAAgBA,IAAI,CAACC,WAArB,CAFJ;AAAA,mCAIE,QAAC,IAAD;AAAM,cAAA,IAAI,EAAED;AAAZ;AAAA;AAAA;AAAA;AAAA;AAJF,aACOA,IAAI,CAACC,WADZ;AAAA;AAAA;AAAA;AAAA,oBADkB;AAAA,SAAnB;AADH;AAAA;AAAA;AAAA;AAAA,cADF;AAYD;;;;EAlDgBtB,S;;AAqDnB,eAAeS,IAAf","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport Card from \"../components/Card/Card\";\n\nconst FeedWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  margin: 5%;\n`;\n\nconst Alert = styled.div`\n  text-align: center;\n`;\n\nconst CardLink = styled(Link)`\n  text-decoration: none;\n  color: inherit;\n`;\n\nconst ROOT_API = \"https://api.stackexchange.com/2.2/\";\n\nclass Feed extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: [],\n      loading: true,\n      error: \"\",\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const data = await fetch(\n        `${ROOT_API}questions?order=desc&sort=activity&tagged=reactjs&site=stackoverflow`\n      );\n      const dataJSON = await data.json();\n\n      if (dataJSON) {\n        this.setState({\n          data: dataJSON,\n          loading: false,\n        });\n      }\n    } catch (error) {\n      this.setState({\n        loading: false,\n        error: error.message,\n      });\n    }\n  }\n\n  render() {\n    const { data, loading, error } = this.state;\n\n    if (loading || error) {\n      return <Alert>{loading ? \"Loading...\" : error}</Alert>;\n    }\n\n    return (\n      <FeedWrapper>\n        {data.items.map(item => (\n          <CardLink\n            key={item.question_id}\n            to={`/questions/${item.question_id}`}\n          >\n            <Card data={item} />\n          </CardLink>\n        ))}\n      </FeedWrapper>\n    );\n  }\n}\n\nexport default Feed;\n"]},"metadata":{},"sourceType":"module"}